/*
 * This file was generated by the Gradle 'init' task.
 *
 * This project uses @Incubating APIs which are subject to change.
 */

plugins {
    id "io.papermc.paperweight.userdev" version "1.3.7"
    id 'com.github.stefvanschie.inventoryframework.java-conventions'
}

repositories {
    mavenCentral()
    maven { url = 'https://repo.papermc.io/repository/maven-public/' }
}

dependencies {
    paperweightDevelopmentBundle("io.papermc.paper:dev-bundle:1.19-R0.1-SNAPSHOT")
    implementation(project(':abstraction'))
    implementation(project(':adventure-support'))
}

description = '1_19'

java {
    withJavadocJar()
    toolchain.languageVersion.set(JavaLanguageVersion.of(17))
    tasks {
        // Configure reobfJar to run when invoking the build task
        assemble {
            dependsOn(reobfJar)
        }

        compileJava {
            options.encoding = 'UTF-8'

            // Set the release flag. This configures what version bytecode the compiler will emit, as well as what JDK APIs are usable.
            // See https://openjdk.java.net/jeps/247 for more information.
            options.release.set(17)
        }
        javadoc {
            options.encoding = 'UTF-8'
        }
        processResources {
            filteringCharset = 'UTF-8'
        }
    }
}

task deleteDevJar(type: Delete) {
    delete fileTree(project.libsDirectory) {
        include '**/*-dev.jar'
    }
}
build.finalizedBy deleteDevJar
